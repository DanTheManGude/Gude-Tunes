(this["webpackJsonpgude-tunes"]=this["webpackJsonpgude-tunes"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),s=n(3),a=n.n(s),i=n(4),r=n(5),u=["user-read-private","user-read-email","user-modify-playback-state"],l="SUCCESS",h="ERROR",d="INFO",f="WARNING",p=["SHUFFLE","CANDLES","BOSTON"],m={SHUFFLE:{text:"Activate Shuffle",name:"Shuffle"},CANDLES:{text:"Don't light candles",name:"Candles"},BOSTON:{text:"Boston Bound",name:"Boston"}},y=13930,b=21200,g=function(){var e=encodeURIComponent(window.location.href),t=u.join("%20");window.location.href="https://accounts.spotify.com/authorize?client_id=125aeb2f61c242c68fe33802c481bb08&redirect_uri=".concat(e,"&scope=").concat(t,"&response_type=token&state=202102121300")},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return fetch("https://api.spotify.com/v1/".concat(e).concat(c&&Object.keys(c).reduce((function(e,t,n){return"".concat(e).concat(0===n?"?":"&").concat(t,"=").concat(c[t])}),"")),Object(r.a)({method:t,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},o))},j={SHUFFLE:function(e,t,n){return v("me/player/shuffle?state=true","PUT",e,{body:""}).then((function(e){var o=e.status;if(204!==o)throw o;t({type:l,source:n,text:"Your playback has been shuffled."})})).catch((function(e){t({type:h,source:n,text:"That didn't work; your playback was unchanged."})}))},CANDLES:function(e,t,n){var o=y,c=b;v("me/player/play","PUT",e,{body:JSON.stringify({context_uri:"spotify:album:3QrkHSj8pBzE1Kwhpnktkw",offset:{position:4},position_ms:o})}).then((function(s){var a=s.status;if(204!==a)throw a;t({type:l,source:n,text:"Burning sage is cool."}),setTimeout((function(){v("me/player/pause","PUT",e,{body:""}).then((function(e){var o=e.status;if(204!==o)throw o;t({type:d,source:n,text:"Don't set off the fire alarm."})})).catch((function(e){t({type:f,source:n,text:"The song should've been paused here."})}))}),c-o)})).catch((function(e){t({type:h,source:n,text:e.message||"It looks like something went awry."})}))},BOSTON:function(e,t,n){v("me/player/queue","POST",e,void 0,{uri:"spotify:track:7rSERmjAT38lC5QhJ8hnQc"}).then((function(o){204===o.status&&v("me/player/next","POST",e,{body:""}).then((function(e){var o=e.status;if(204!==o)throw o;t({type:l,source:n,text:"Safe travels."})}))})).catch((function(e){t({type:h,source:n,text:e.message||"It looks like your package is delayed."})}))}},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return function(){return j[e](t,n,o)}},O=n(0);var w=function(){var e=function(){var e={code:null,hashItems:{},message:""},t=new URLSearchParams(window.location.search),n=Object.fromEntries(t.entries());if(n.hasOwnProperty("error"))e.code=-1,e.message=n.error;else if(window.location.hash){var o=window.location.hash.substr(1).split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{});o.hasOwnProperty("access_token")?(e.code=1,e.hashItems=o):(e.code=-1,e.message="Hash does not include access_token")}else e.code=0,e.message="Missing hash in the url";return e}(),t=e.code,n=e.message,c=e.hashItems.access_token,s=Object(o.useState)([]),a=Object(i.a)(s,2),r=a[0],u=a[1],f=function(e){u((function(t){return t.concat(e)})),setTimeout((function(){u((function(e){return e.slice(1)}))}),6001)};return Object(o.useEffect)((function(){f(-1===t?{type:h,text:n}:1===t?{type:l,text:"Login succesfull!"}:{type:d,source:"Welcome",text:"Please login below to use the app."})}),[t,n]),Object(O.jsxs)("div",{children:[r.map((function(e,t){var n=e.type,o=e.text,c=e.source,s=void 0===c?"":c;return Object(O.jsxs)("div",{className:"message msg-".concat(n),children:[s&&Object(O.jsxs)("strong",{children:[s,": "]}),o]},"msg-".concat(t))})),1===t?p.map((function(e){var t=m[e],n=t.text,o=t.classNames,s=void 0===o?"":o,a=t.name;return Object(O.jsx)("button",{className:"utility-btn ".concat(s),onClick:x(e,c,f,a),children:n},e)})):Object(O.jsx)("button",{className:"loginButton",onClick:g,children:"Login"})]})};n(11);a.a.render(Object(O.jsxs)(c.a.StrictMode,{children:[Object(O.jsx)("h1",{id:"title",children:"Gude Tunes"}),Object(O.jsx)("h3",{id:"subtitle",children:"Utilities to enhance your Spotify\u200e\xa0experience"}),Object(O.jsx)("h5",{id:"help-text",children:"Be sure to have Spotify recently paused or playing for most utilities."}),Object(O.jsx)(w,{})]}),document.getElementById("root")),console.log("Git hash: ".concat("d314b92597eaa117b9a3ff3b3aa226e4014a53d5"))}},[[12,1,2]]]);
//# sourceMappingURL=main.e79c0821.chunk.js.map