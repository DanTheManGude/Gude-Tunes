(this["webpackJsonpgude-tunes"]=this["webpackJsonpgude-tunes"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(7),o=n.n(a),r=n(8),i=n(2),u=n(6),l=["user-read-private","user-read-email","user-modify-playback-state"],d="CREATE",h="DELETE",p="SUCCESS",b="ERROR",f="INFO",j=function(){var e=encodeURIComponent(window.location.href),t=l.join("%20");window.location.href="https://accounts.spotify.com/authorize?client_id=125aeb2f61c242c68fe33802c481bb08&redirect_uri=".concat(e,"&scope=").concat(t,"&response_type=token&state=202102121300")},O=n(0);var m=function(e){var t=e.access_token,n=e.updateMessageList,c=e.name;return Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"utility-btn shuffle",onClick:function(){(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return fetch("https://api.spotify.com/v1/".concat(e),Object(i.a)({method:t,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},c))})("me/player/shuffle?state=true","PUT",t,{body:""}).then((function(e){var t=e.status;if(204!==t)throw t;n(d,{type:p,source:c,text:"Your playback has been shuffled."})})).catch((function(e){n(d,{type:b,source:c,text:"That didn't work; your playback was unchanged."})}))},children:"Activate Shuffle"})})};var v=function(e){var t=e.hashItems.access_token,n=e.updateMessageList;return Object(O.jsx)("div",{children:Object(O.jsx)(m,{access_token:t,updateMessageList:n,name:"Shuffle"})})};var y=function(){return Object(O.jsx)("div",{children:Object(O.jsx)("button",{className:"regText authButton",onClick:j,children:"Login"})})};var g=function(){var e=function(){var e={code:null,payload:null,message:""},t=new URLSearchParams(window.location.search),n=Object.fromEntries(t.entries());if(n.hasOwnProperty("error"))e.code=-1,e.message=n.error;else if(window.location.hash){var c=window.location.hash.substr(1).split("&").reduce((function(e,t){var n=t.split("=");return e[n[0]]=n[1],e}),{});c.hasOwnProperty("access_token")?(e.code=1,e.payload=c):(e.code=-1,e.message="Hash does not include access_token")}else e.code=0,e.message="Missing hash in the url";return e}(),t=e.code,n=e.message,s=e.payload,a=-1===t?{type:b,text:n}:1===t?{type:p,text:"Login succesfull!"}:{type:f,source:"Welcome",text:"Please login below to use the app."},o=Object(c.useState)([Object(i.a)(Object(i.a)({},a),{},{id:0})]),l=Object(u.a)(o,2),j=l[0],m=l[1],g=Object(c.useState)(1),x=Object(u.a)(g,2),w=x[0],k=x[1],S=function(e,t){switch(e){case d:var n=(k((function(e){return e+1})),w);return m((function(e){return[].concat(Object(r.a)(e),[Object(i.a)(Object(i.a)({},t),{},{id:n})])})),n;case h:return m((function(e){return e.filter((function(e){return e.id!==t}))})),0;default:return-1}};return Object(O.jsxs)("div",{children:[j.map((function(e){var t=e.type,n=e.text,c=e.source,s=void 0===c?"":c,a=e.id;return Object(O.jsxs)("div",{className:"message msg-".concat(t),children:[Object(O.jsx)("span",{className:"close-message",onClick:function(){return S(h,a)},children:"\xd7"}),s&&Object(O.jsxs)("strong",{children:[s,": "]}),n]},"msg-".concat(a))})),1===t?Object(O.jsx)(v,{hashItems:s,updateMessageList:S}):Object(O.jsx)(y,{})]})};n(14);o.a.render(Object(O.jsxs)(s.a.StrictMode,{children:[Object(O.jsx)("h1",{id:"title",children:"Gude Tunes"}),Object(O.jsx)("h3",{id:"subtitle",children:"Utilities to enhance your Spotify\u200e\xa0experience"}),Object(O.jsx)("h5",{id:"help-text",children:"Be sure to have Spotify recently paused or playing for most utilities."}),Object(O.jsx)(g,{})]}),document.getElementById("root")),console.log("Git hash: ".concat("a825ba8c6c36b81b5e69b41aa2f5e1c557b07031"))}},[[15,1,2]]]);
//# sourceMappingURL=main.35b55638.chunk.js.map